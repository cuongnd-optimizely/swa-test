{"version":3,"file":"color-mode.js","sources":["../../../../src/_helpers/handleTheme.ts","../../../../xpack/scripts/color-mode.entry.ts"],"sourcesContent":["const THEME_KEY = 'MSG_THEME';\r\n\r\nconst getTheme = (isLight: boolean) => {\r\n  return isLight ? 'light' : 'dark';\r\n};\r\n\r\nconst setTheme = (theme: string) => {\r\n  localStorage.setItem(THEME_KEY, theme);\r\n  document.documentElement.setAttribute('data-theme', theme);\r\n}\r\n\r\nconst getCurrentTheme = () => {\r\n  const theme = localStorage.getItem(THEME_KEY);\r\n\r\n  return getTheme(!theme || theme.toLowerCase() === 'light');\r\n};\r\n\r\nconst switchTheme = () => {\r\n  const currentTheme = getCurrentTheme();\r\n  const newTheme = getTheme(currentTheme !== 'light');\r\n\r\n  setTheme(newTheme);\r\n}\r\n\r\nexport { THEME_KEY, getCurrentTheme, switchTheme, getTheme, setTheme };","import { THEME_KEY, switchTheme } from \"@helpers/handleTheme\";\r\n\r\n/**\r\n * Handle storage change\r\n */\r\nconst handleStorageChange = (event: StorageEvent) => {\r\n  switch (event.key) {\r\n    case THEME_KEY: {\r\n      document.documentElement.setAttribute('data-theme', event.newValue as string);\r\n      break;\r\n    }\r\n  }\r\n};\r\n\r\nconst handleToggleTheme = () => {\r\n  switchTheme();\r\n};\r\n\r\nconst themeToggle = document.querySelector('.theme-toggle');\r\n\r\nif (themeToggle) {\r\n  themeToggle.addEventListener('click', () => {\r\n    switchTheme();\r\n  });\r\n}\r\n\r\nwindow.addEventListener('storage', handleStorageChange);\r\nwindow.addEventListener('toggleTheme', handleToggleTheme);\r\n"],"names":["THEME_KEY","getTheme","isLight","setTheme","theme","getCurrentTheme","switchTheme","currentTheme","newTheme","handleStorageChange","event","handleToggleTheme","themeToggle"],"mappings":"AAAA,MAAMA,EAAY,YAEZC,EAAYC,GACTA,EAAU,QAAU,OAGvBC,EAAYC,GAAkB,CACrB,aAAA,QAAQJ,EAAWI,CAAK,EAC5B,SAAA,gBAAgB,aAAa,aAAcA,CAAK,CAC3D,EAEMC,EAAkB,IAAM,CACtB,MAAAD,EAAQ,aAAa,QAAQJ,CAAS,EAE5C,OAAOC,EAAS,CAACG,GAASA,EAAM,YAAA,IAAkB,OAAO,CAC3D,EAEME,EAAc,IAAM,CACxB,MAAMC,EAAeF,IACfG,EAAWP,EAASM,IAAiB,OAAO,EAElDJ,EAASK,CAAQ,CACnB,ECjBMC,EAAuBC,GAAwB,CACnD,OAAQA,EAAM,IAAK,CACjB,KAAKV,EAAW,CACd,SAAS,gBAAgB,aAAa,aAAcU,EAAM,QAAkB,EAC5E,KACF,CACF,CACF,EAEMC,EAAoB,IAAM,CAClBL,GACd,EAEMM,EAAc,SAAS,cAAc,eAAe,EAEtDA,GACUA,EAAA,iBAAiB,QAAS,IAAM,CAC9BN,GAAA,CACb,EAGH,OAAO,iBAAiB,UAAWG,CAAmB,EACtD,OAAO,iBAAiB,cAAeE,CAAiB"}